#########################################################################################################
# This model file illustrates the usage of the model definition DSL of the StandardModelProvider plugin.
#
# A model for the StandardModelProvider is constructed out of classes, attributes and metainfos. 
# The MOGLiCC meta model consists of the three hierarchy levels model, class and attribute. 
# A model file must contain exactly one model. The name of a class (for a java class it should also contain 
# the qualified path) must be unique within the model. The name of an attribute must be unique for its class.
#
# Each element (model, class or attribute) is defined by its name - the only concretely predefined data value. 
# The data of each element in each hierarchy level can be enriched by MetaInfo elements in any number. 
# A MetaInfo element consists of a non-unique name and a value.
#
# For repreatedly used values (such as paths to domain objects) variables can be defined. A variable consists 
# of a key-value-pair. The key can be used as placeholder: <<variableKey>>. When the model file is parsed all 
# placeholders are replaced by its variable value. Variables can be defined anywhere in the model file, e.g. 
# at the end of the model file. Variables values may contain placeholders of other variables, that are 
# mentioned above in the model file. If needed upper and lower case conversion is possible:
#
# variable v1 "One Two Three"
# variable v2 toUPPERCase: <<v1>>  # this results in "ONE TWO THREE"
# variable v3 toLowerCase: <<v1>>  # this results in "one two three"
#
# Information which plugin uses which MetaInfo is presented in a statistics file
# that is written into the plugin output directory of the StandardModelProvider plugin.
#
# The SpringBootBackendAngularFrontModel provides data for the MOGLiCC JavaBean templates. Model data and templates are
# used to create the MOGLiCC JavaBean artefacts. These are NOT designed for manual modification.
# In case you want to have same modified, change the templates, the model data or both, and
# recreate them by autogeneration.
#
#########################################################################################################


variable DomainPath com.iksgmbh.fileman.backend
variable alphanumericCharset "abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZA 01234567890 <>&-.,;!?=()/üöäÜÖÄß"


model SpringBootBackendAngularFrontModel
  metainfo backendGenDir <applicationRootDir>/../Fileman-Backend/src/gen/java
  metainfo backendSrcDir <applicationRootDir>/../Fileman-Backend/src/main/java
  metainfo frontendSrcDir <applicationRootDir>/../Fileman-Frontend/src/app
  metainfo projectName Fileman
  metainfo dateTimeFormat "dd.MM.yyyy HH:mm:ss:SSS"
  metainfo namespace <<DomainPath>>
  metainfo newDomainObject user  # use lower case !


class <<DomainPath>>.FileData
  metainfo implements java.io.Serializable
  metainfo implements Cloneable
  metainfo swaggerDoc "Complete data on a hosted file"
  metainfo JavaDocLine "Complete data on a hosted file"
  metainfo frontendClass true

  attribute metaData
    metainfo JavaType FileMetaData
    metainfo Mandatory true

  attribute contentData
    metainfo JavaType FileContentData
    metainfo Mandatory true

class <<DomainPath>>.FileContentData
  metainfo implements java.io.Serializable
  metainfo implements Cloneable
  metainfo DaoAndSql true   
  metainfo swaggerDoc "Content of hosted file"
  metainfo JavaDocLine "Content of hosted file"
  metainfo frontendClass true

  attribute uuid
    metainfo SqlType bigint
    metainfo JavaType Long
    metainfo Mandatory true
    metainfo ExampleData 0
    metainfo unique true
    metainfo id true
  
  attribute name
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData logo.png
    metainfo MinLength 3
    metainfo MaxLength 128
    metainfo withFindAllMethod true

  attribute content
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData 10101

  attribute size
    metainfo SqlType bigint
    metainfo JavaType Long
    metainfo Mandatory false
    metainfo ExampleData 30000

  attribute creator
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData Hans Mustermann

  attribute creationDate
    metainfo SqlType datetime
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "10.10.2020 13:55:59"
    

class <<DomainPath>>.FileMetaData  
  metainfo implements java.io.Serializable
  metainfo implements Cloneable
  metainfo generateStandardJavaDoc true
  metainfo swaggerDoc "Meta Data of a hosted file"
  metainfo JavaDocLine "Meta Data of a hosted file"
  metainfo DaoAndSql true   
  metainfo frontendClass true
  
  attribute name
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData logo.png
    metainfo MinLength 3
    metainfo MaxLength 128
    metainfo unique true
    metainfo id true
    metainfo guiType TextField
    metainfo allowSpace false

  attribute description
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo ExampleData "A logo image"
    metainfo MaxLength 1024
    metainfo guiType TextArea

  attribute activeUUID
    metainfo SqlType bigint
    metainfo JavaType Long
    metainfo ExampleData 123456

  attribute "immediately Active"
    metainfo JavaType Boolean
    metainfo guiType Checkbox
    metainfo defaultValue true
    metainfo ExampleData true
    
  attribute techType
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo ExampleData pdf
    metainfo MaxLength 16

  attribute techVersion
    metainfo SqlType number
    metainfo JavaType Integer
    metainfo ExampleData 1

  attribute creator
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData Hans Mustermann

  attribute creationDate
    metainfo SqlType datetime
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "10.10.2020 13:55:59"

  attribute size
    metainfo SqlType bigint
    metainfo JavaType Integer
    metainfo ExampleData 1234

class <<DomainPath>>.User
  metainfo implements java.io.Serializable
  metainfo generateStandardJavaDoc true
  metainfo swaggerDoc "Data of a Fileman user"
  metainfo JavaDocLine "Data of a Fileman user"
  metainfo DaoAndSql true   
  metainfo BackendController true
  metainfo FrontendService true

  attribute id
    metainfo SqlType int
    metainfo JavaType Integer
    metainfo ExampleData 1
    metainfo unique true
    metainfo id true
    
  attribute name
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "ich"
    metainfo MinLength 2
    metainfo MaxLength 64
    metainfo unique true
    metainfo guiType TextField

  attribute role
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData Admin
    metainfo guiType Selectbox:Reader,Writer,Admin

  attribute password
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo ExampleData "123"
    metainfo MinLength 1
    metainfo MaxLength 32
    metainfo hideFromClient true
    metainfo guiType TextField

  attribute passwordRepetition
    metainfo JavaType String
    metainfo ExampleData "123"
    metainfo MinLength 0
    metainfo MaxLength 32
    metainfo hideFromServer true
    metainfo guiType TextField

   attribute avatar
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo guiType FileSelector
 
 class <<DomainPath>>.ExceptionMetaData
  metainfo implements java.io.Serializable

  attribute timestamp
    metainfo SqlType timestamp
    metainfo JavaType Long
    metainfo Mandatory true
    metainfo ExampleData 11234823442

  attribute message
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "Resource not found"

  attribute details
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "User 1 not found"
    
class <<DomainPath>>.LoginRequest
  metainfo frontendClass true

  attribute userId
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "Pete"
    metainfo MinLength 2
    metainfo MaxLength 64

  attribute userPw
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData "pw"
    # metainfo MinLength 3
    metainfo MaxLength 32
            
  attribute filemanVersion
    metainfo JavaType String
    metainfo Mandatory true
    metainfo ExampleData 1.1
    
    
class <<DomainPath>>.LoginResponse
  metainfo frontendClass true

  attribute errorMessage
    metainfo JavaType String

  attribute authToken
    metainfo JavaType String
        
  attribute ok
    metainfo JavaType Boolean
    
class <<DomainPath>>.FavouriteSetting
  metainfo implements java.io.Serializable
  metainfo generateStandardJavaDoc true
  metainfo swaggerDoc "Data for favourite filter"
  metainfo JavaDocLine "Data for favourite filter"
  metainfo DaoAndSql true
  metainfo extraFindEndpoint User 
  metainfo frontendClass true

  attribute id
    metainfo SqlType int
    metainfo JavaType Integer
    metainfo Mandatory true
    metainfo ExampleData 1
    metainfo unique true
    metainfo id true
    
  attribute username
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo withFindAllMethod true

  attribute filename
    metainfo SqlType varchar
    metainfo JavaType String
    metainfo Mandatory true
    metainfo withFindAllMethod true
    
    