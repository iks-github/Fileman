<table>
    <tr style="font-weight:bold; background-color:darkgray;">
        <td></td>
        <td></td>

        <!-- The header-td-sections below is generated: Do not modify manually! -->

        <td>
            Id
            <fileman-sorticon [sortField]="'id'" (sortEventHandler)="sort($event)"></fileman-sorticon>
        </td>
        <td>
            Name
            <fileman-sorticon [sortField]="'name'" (sortEventHandler)="sort($event)"></fileman-sorticon>
        </td>
        <td>
            Role
            <fileman-sorticon [sortField]="'role'" (sortEventHandler)="sort($event)"></fileman-sorticon>
        </td>
        <td>
            Tenant
            <fileman-sorticon [sortField]="'tenant'" (sortEventHandler)="sort($event)"></fileman-sorticon>
        </td>
        <td>
            Avatar
            <fileman-sorticon [sortField]="'avatar'" (sortEventHandler)="sort($event)"></fileman-sorticon>
        </td>

        <!-- The header-td-sections above is generated: Do not modify manually! -->

      </tr>
      <tr *ngFor="let user of viewedUsers; let i = index">
        <td>{{i+1}}.</td>
        <td>
          <mat-icon data-toggle="tooltip" title="Open Action Menu" (click)="pullDown.open()">more_vert</mat-icon>
          <mat-form-field class="hidden-form-field">
            <mat-select
              #pullDown
              (opened)="onPullDownOpened(pullDown)"
              filemanOutsideClickListener
              (clickedOutside)="closeOpenPullDowns()">
              <mat-option *ngIf="!readOnly" (click)="edit(user)">
                <mat-icon>edit</mat-icon>Edit
              </mat-option>
              <mat-option *ngIf="!readOnly" (click)="delete(user)">
                <mat-icon>delete</mat-icon>Delete
              </mat-option>
            </mat-select>
          </mat-form-field>
        </td>

        <!-- The row-td-sections below is generated: Do not modify manually! -->

        <td>{{user.id}}</td>
        <td>{{user.name}}</td>
        <td>{{user.role}}</td>
        <td>{{user.tenant.name}}</td>

        <!-- The row-td-sections above is generated: Do not modify manually! -->
        <td>
          <img class="image-preview" *ngIf="hasAvatar(user.name)" [src]="getAvatar(user.name)">
          <div class="default-avatar" *ngIf="!hasAvatar(user.name)"
                 [ngStyle]="{'background-color': getAvatarBackgroundColor(user.name),
                             'color': getAvatarTextColor(user.name)}">
              <span class="avatar-text-content">{{getUserInitials(user.name)}}</span>
          </div>
        </td>

      </tr>
</table>
